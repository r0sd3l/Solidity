{"ast":null,"code":"import { NextArbitrary } from '../../check/arbitrary/definition/NextArbitrary.js';\nimport { NextValue } from '../../check/arbitrary/definition/NextValue.js';\n\nfunction isSafeContext(context) {\n  return context !== undefined;\n}\n\nfunction toGeneratorNextValue(value) {\n  if (value.hasToBeCloned) {\n    return new NextValue(value.value_, {\n      generatorContext: value.context\n    }, () => value.value);\n  }\n\n  return new NextValue(value.value_, {\n    generatorContext: value.context\n  });\n}\n\nfunction toShrinkerNextValue(value) {\n  if (value.hasToBeCloned) {\n    return new NextValue(value.value_, {\n      shrinkerContext: value.context\n    }, () => value.value);\n  }\n\n  return new NextValue(value.value_, {\n    shrinkerContext: value.context\n  });\n}\n\nexport class WithShrinkFromOtherArbitrary extends NextArbitrary {\n  constructor(generatorArbitrary, shrinkerArbitrary) {\n    super();\n    this.generatorArbitrary = generatorArbitrary;\n    this.shrinkerArbitrary = shrinkerArbitrary;\n  }\n\n  generate(mrng, biasFactor) {\n    return toGeneratorNextValue(this.generatorArbitrary.generate(mrng, biasFactor));\n  }\n\n  canShrinkWithoutContext(value) {\n    return this.shrinkerArbitrary.canShrinkWithoutContext(value);\n  }\n\n  shrink(value, context) {\n    if (!isSafeContext(context)) {\n      return this.shrinkerArbitrary.shrink(value, undefined).map(toShrinkerNextValue);\n    }\n\n    if ('generatorContext' in context) {\n      return this.generatorArbitrary.shrink(value, context.generatorContext).map(toGeneratorNextValue);\n    }\n\n    return this.shrinkerArbitrary.shrink(value, context.shrinkerContext).map(toShrinkerNextValue);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rodri/Solidity/solidity/faucet/node_modules/fast-check/lib/esm/arbitrary/_internals/WithShrinkFromOtherArbitrary.js"],"names":["NextArbitrary","NextValue","isSafeContext","context","undefined","toGeneratorNextValue","value","hasToBeCloned","value_","generatorContext","toShrinkerNextValue","shrinkerContext","WithShrinkFromOtherArbitrary","constructor","generatorArbitrary","shrinkerArbitrary","generate","mrng","biasFactor","canShrinkWithoutContext","shrink","map"],"mappings":"AAAA,SAASA,aAAT,QAA8B,mDAA9B;AACA,SAASC,SAAT,QAA0B,+CAA1B;;AACA,SAASC,aAAT,CAAuBC,OAAvB,EAAgC;AAC5B,SAAOA,OAAO,KAAKC,SAAnB;AACH;;AACD,SAASC,oBAAT,CAA8BC,KAA9B,EAAqC;AACjC,MAAIA,KAAK,CAACC,aAAV,EAAyB;AACrB,WAAO,IAAIN,SAAJ,CAAcK,KAAK,CAACE,MAApB,EAA4B;AAAEC,MAAAA,gBAAgB,EAAEH,KAAK,CAACH;AAA1B,KAA5B,EAAiE,MAAMG,KAAK,CAACA,KAA7E,CAAP;AACH;;AACD,SAAO,IAAIL,SAAJ,CAAcK,KAAK,CAACE,MAApB,EAA4B;AAAEC,IAAAA,gBAAgB,EAAEH,KAAK,CAACH;AAA1B,GAA5B,CAAP;AACH;;AACD,SAASO,mBAAT,CAA6BJ,KAA7B,EAAoC;AAChC,MAAIA,KAAK,CAACC,aAAV,EAAyB;AACrB,WAAO,IAAIN,SAAJ,CAAcK,KAAK,CAACE,MAApB,EAA4B;AAAEG,MAAAA,eAAe,EAAEL,KAAK,CAACH;AAAzB,KAA5B,EAAgE,MAAMG,KAAK,CAACA,KAA5E,CAAP;AACH;;AACD,SAAO,IAAIL,SAAJ,CAAcK,KAAK,CAACE,MAApB,EAA4B;AAAEG,IAAAA,eAAe,EAAEL,KAAK,CAACH;AAAzB,GAA5B,CAAP;AACH;;AACD,OAAO,MAAMS,4BAAN,SAA2CZ,aAA3C,CAAyD;AAC5Da,EAAAA,WAAW,CAACC,kBAAD,EAAqBC,iBAArB,EAAwC;AAC/C;AACA,SAAKD,kBAAL,GAA0BA,kBAA1B;AACA,SAAKC,iBAAL,GAAyBA,iBAAzB;AACH;;AACDC,EAAAA,QAAQ,CAACC,IAAD,EAAOC,UAAP,EAAmB;AACvB,WAAOb,oBAAoB,CAAC,KAAKS,kBAAL,CAAwBE,QAAxB,CAAiCC,IAAjC,EAAuCC,UAAvC,CAAD,CAA3B;AACH;;AACDC,EAAAA,uBAAuB,CAACb,KAAD,EAAQ;AAC3B,WAAO,KAAKS,iBAAL,CAAuBI,uBAAvB,CAA+Cb,KAA/C,CAAP;AACH;;AACDc,EAAAA,MAAM,CAACd,KAAD,EAAQH,OAAR,EAAiB;AACnB,QAAI,CAACD,aAAa,CAACC,OAAD,CAAlB,EAA6B;AACzB,aAAO,KAAKY,iBAAL,CAAuBK,MAAvB,CAA8Bd,KAA9B,EAAqCF,SAArC,EAAgDiB,GAAhD,CAAoDX,mBAApD,CAAP;AACH;;AACD,QAAI,sBAAsBP,OAA1B,EAAmC;AAC/B,aAAO,KAAKW,kBAAL,CAAwBM,MAAxB,CAA+Bd,KAA/B,EAAsCH,OAAO,CAACM,gBAA9C,EAAgEY,GAAhE,CAAoEhB,oBAApE,CAAP;AACH;;AACD,WAAO,KAAKU,iBAAL,CAAuBK,MAAvB,CAA8Bd,KAA9B,EAAqCH,OAAO,CAACQ,eAA7C,EAA8DU,GAA9D,CAAkEX,mBAAlE,CAAP;AACH;;AApB2D","sourcesContent":["import { NextArbitrary } from '../../check/arbitrary/definition/NextArbitrary.js';\nimport { NextValue } from '../../check/arbitrary/definition/NextValue.js';\nfunction isSafeContext(context) {\n    return context !== undefined;\n}\nfunction toGeneratorNextValue(value) {\n    if (value.hasToBeCloned) {\n        return new NextValue(value.value_, { generatorContext: value.context }, () => value.value);\n    }\n    return new NextValue(value.value_, { generatorContext: value.context });\n}\nfunction toShrinkerNextValue(value) {\n    if (value.hasToBeCloned) {\n        return new NextValue(value.value_, { shrinkerContext: value.context }, () => value.value);\n    }\n    return new NextValue(value.value_, { shrinkerContext: value.context });\n}\nexport class WithShrinkFromOtherArbitrary extends NextArbitrary {\n    constructor(generatorArbitrary, shrinkerArbitrary) {\n        super();\n        this.generatorArbitrary = generatorArbitrary;\n        this.shrinkerArbitrary = shrinkerArbitrary;\n    }\n    generate(mrng, biasFactor) {\n        return toGeneratorNextValue(this.generatorArbitrary.generate(mrng, biasFactor));\n    }\n    canShrinkWithoutContext(value) {\n        return this.shrinkerArbitrary.canShrinkWithoutContext(value);\n    }\n    shrink(value, context) {\n        if (!isSafeContext(context)) {\n            return this.shrinkerArbitrary.shrink(value, undefined).map(toShrinkerNextValue);\n        }\n        if ('generatorContext' in context) {\n            return this.generatorArbitrary.shrink(value, context.generatorContext).map(toGeneratorNextValue);\n        }\n        return this.shrinkerArbitrary.shrink(value, context.shrinkerContext).map(toShrinkerNextValue);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}