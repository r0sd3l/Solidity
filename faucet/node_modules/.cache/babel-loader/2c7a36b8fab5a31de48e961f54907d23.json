{"ast":null,"code":"export class ScheduledCommand {\n  constructor(s, cmd) {\n    this.s = s;\n    this.cmd = cmd;\n  }\n\n  async check(m) {\n    let error = null;\n    let checkPassed = false;\n    const status = await this.s.scheduleSequence([{\n      label: `check@${this.cmd.toString()}`,\n      builder: async () => {\n        try {\n          checkPassed = await Promise.resolve(this.cmd.check(m));\n        } catch (err) {\n          error = err;\n          throw err;\n        }\n      }\n    }]).task;\n\n    if (status.faulty) {\n      throw error;\n    }\n\n    return checkPassed;\n  }\n\n  async run(m, r) {\n    let error = null;\n    const status = await this.s.scheduleSequence([{\n      label: `run@${this.cmd.toString()}`,\n      builder: async () => {\n        try {\n          await this.cmd.run(m, r);\n        } catch (err) {\n          error = err;\n          throw err;\n        }\n      }\n    }]).task;\n\n    if (status.faulty) {\n      throw error;\n    }\n  }\n\n}\nexport const scheduleCommands = function* (s, cmds) {\n  for (const cmd of cmds) {\n    yield new ScheduledCommand(s, cmd);\n  }\n};","map":{"version":3,"sources":["C:/Users/rodri/Solidity/solidity/faucet/node_modules/fast-check/lib/esm/check/model/commands/ScheduledCommand.js"],"names":["ScheduledCommand","constructor","s","cmd","check","m","error","checkPassed","status","scheduleSequence","label","toString","builder","Promise","resolve","err","task","faulty","run","r","scheduleCommands","cmds"],"mappings":"AAAA,OAAO,MAAMA,gBAAN,CAAuB;AAC1BC,EAAAA,WAAW,CAACC,CAAD,EAAIC,GAAJ,EAAS;AAChB,SAAKD,CAAL,GAASA,CAAT;AACA,SAAKC,GAAL,GAAWA,GAAX;AACH;;AACU,QAALC,KAAK,CAACC,CAAD,EAAI;AACX,QAAIC,KAAK,GAAG,IAAZ;AACA,QAAIC,WAAW,GAAG,KAAlB;AACA,UAAMC,MAAM,GAAG,MAAM,KAAKN,CAAL,CAAOO,gBAAP,CAAwB,CACzC;AACIC,MAAAA,KAAK,EAAG,SAAQ,KAAKP,GAAL,CAASQ,QAAT,EAAoB,EADxC;AAEIC,MAAAA,OAAO,EAAE,YAAY;AACjB,YAAI;AACAL,UAAAA,WAAW,GAAG,MAAMM,OAAO,CAACC,OAAR,CAAgB,KAAKX,GAAL,CAASC,KAAT,CAAeC,CAAf,CAAhB,CAApB;AACH,SAFD,CAGA,OAAOU,GAAP,EAAY;AACRT,UAAAA,KAAK,GAAGS,GAAR;AACA,gBAAMA,GAAN;AACH;AACJ;AAVL,KADyC,CAAxB,EAalBC,IAbH;;AAcA,QAAIR,MAAM,CAACS,MAAX,EAAmB;AACf,YAAMX,KAAN;AACH;;AACD,WAAOC,WAAP;AACH;;AACQ,QAAHW,GAAG,CAACb,CAAD,EAAIc,CAAJ,EAAO;AACZ,QAAIb,KAAK,GAAG,IAAZ;AACA,UAAME,MAAM,GAAG,MAAM,KAAKN,CAAL,CAAOO,gBAAP,CAAwB,CACzC;AACIC,MAAAA,KAAK,EAAG,OAAM,KAAKP,GAAL,CAASQ,QAAT,EAAoB,EADtC;AAEIC,MAAAA,OAAO,EAAE,YAAY;AACjB,YAAI;AACA,gBAAM,KAAKT,GAAL,CAASe,GAAT,CAAab,CAAb,EAAgBc,CAAhB,CAAN;AACH,SAFD,CAGA,OAAOJ,GAAP,EAAY;AACRT,UAAAA,KAAK,GAAGS,GAAR;AACA,gBAAMA,GAAN;AACH;AACJ;AAVL,KADyC,CAAxB,EAalBC,IAbH;;AAcA,QAAIR,MAAM,CAACS,MAAX,EAAmB;AACf,YAAMX,KAAN;AACH;AACJ;;AA9CyB;AAgD9B,OAAO,MAAMc,gBAAgB,GAAG,WAAWlB,CAAX,EAAcmB,IAAd,EAAoB;AAChD,OAAK,MAAMlB,GAAX,IAAkBkB,IAAlB,EAAwB;AACpB,UAAM,IAAIrB,gBAAJ,CAAqBE,CAArB,EAAwBC,GAAxB,CAAN;AACH;AACJ,CAJM","sourcesContent":["export class ScheduledCommand {\n    constructor(s, cmd) {\n        this.s = s;\n        this.cmd = cmd;\n    }\n    async check(m) {\n        let error = null;\n        let checkPassed = false;\n        const status = await this.s.scheduleSequence([\n            {\n                label: `check@${this.cmd.toString()}`,\n                builder: async () => {\n                    try {\n                        checkPassed = await Promise.resolve(this.cmd.check(m));\n                    }\n                    catch (err) {\n                        error = err;\n                        throw err;\n                    }\n                },\n            },\n        ]).task;\n        if (status.faulty) {\n            throw error;\n        }\n        return checkPassed;\n    }\n    async run(m, r) {\n        let error = null;\n        const status = await this.s.scheduleSequence([\n            {\n                label: `run@${this.cmd.toString()}`,\n                builder: async () => {\n                    try {\n                        await this.cmd.run(m, r);\n                    }\n                    catch (err) {\n                        error = err;\n                        throw err;\n                    }\n                },\n            },\n        ]).task;\n        if (status.faulty) {\n            throw error;\n        }\n    }\n}\nexport const scheduleCommands = function* (s, cmds) {\n    for (const cmd of cmds) {\n        yield new ScheduledCommand(s, cmd);\n    }\n};\n"]},"metadata":{},"sourceType":"module"}