{"ast":null,"code":"import { constant } from './constant.js';\nimport { FrequencyArbitrary } from './_internals/FrequencyArbitrary.js';\n\nfunction extractOptionConstraints(constraints) {\n  if (typeof constraints === 'number') return {\n    freq: constraints\n  };\n  if (!constraints) return {};\n  return constraints;\n}\n\nfunction option(arb, rawConstraints) {\n  const constraints = extractOptionConstraints(rawConstraints);\n  const freq = constraints.freq == null ? 5 : constraints.freq;\n  const nilValue = Object.prototype.hasOwnProperty.call(constraints, 'nil') ? constraints.nil : null;\n  const nilArb = constant(nilValue);\n  const weightedArbs = [{\n    arbitrary: nilArb,\n    weight: 1,\n    fallbackValue: {\n      default: nilValue\n    }\n  }, {\n    arbitrary: arb,\n    weight: freq\n  }];\n  const frequencyConstraints = {\n    withCrossShrink: true,\n    depthFactor: constraints.depthFactor,\n    maxDepth: constraints.maxDepth,\n    depthIdentifier: constraints.depthIdentifier\n  };\n  return FrequencyArbitrary.fromOld(weightedArbs, frequencyConstraints, 'fc.option');\n}\n\nexport { option };","map":{"version":3,"sources":["C:/Users/rodri/Solidity/solidity/faucet/node_modules/fast-check/lib/esm/arbitrary/option.js"],"names":["constant","FrequencyArbitrary","extractOptionConstraints","constraints","freq","option","arb","rawConstraints","nilValue","Object","prototype","hasOwnProperty","call","nil","nilArb","weightedArbs","arbitrary","weight","fallbackValue","default","frequencyConstraints","withCrossShrink","depthFactor","maxDepth","depthIdentifier","fromOld"],"mappings":"AAAA,SAASA,QAAT,QAAyB,eAAzB;AACA,SAASC,kBAAT,QAAmC,oCAAnC;;AACA,SAASC,wBAAT,CAAkCC,WAAlC,EAA+C;AAC3C,MAAI,OAAOA,WAAP,KAAuB,QAA3B,EACI,OAAO;AAAEC,IAAAA,IAAI,EAAED;AAAR,GAAP;AACJ,MAAI,CAACA,WAAL,EACI,OAAO,EAAP;AACJ,SAAOA,WAAP;AACH;;AACD,SAASE,MAAT,CAAgBC,GAAhB,EAAqBC,cAArB,EAAqC;AACjC,QAAMJ,WAAW,GAAGD,wBAAwB,CAACK,cAAD,CAA5C;AACA,QAAMH,IAAI,GAAGD,WAAW,CAACC,IAAZ,IAAoB,IAApB,GAA2B,CAA3B,GAA+BD,WAAW,CAACC,IAAxD;AACA,QAAMI,QAAQ,GAAGC,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCT,WAArC,EAAkD,KAAlD,IAA2DA,WAAW,CAACU,GAAvE,GAA6E,IAA9F;AACA,QAAMC,MAAM,GAAGd,QAAQ,CAACQ,QAAD,CAAvB;AACA,QAAMO,YAAY,GAAG,CACjB;AAAEC,IAAAA,SAAS,EAAEF,MAAb;AAAqBG,IAAAA,MAAM,EAAE,CAA7B;AAAgCC,IAAAA,aAAa,EAAE;AAAEC,MAAAA,OAAO,EAAEX;AAAX;AAA/C,GADiB,EAEjB;AAAEQ,IAAAA,SAAS,EAAEV,GAAb;AAAkBW,IAAAA,MAAM,EAAEb;AAA1B,GAFiB,CAArB;AAIA,QAAMgB,oBAAoB,GAAG;AACzBC,IAAAA,eAAe,EAAE,IADQ;AAEzBC,IAAAA,WAAW,EAAEnB,WAAW,CAACmB,WAFA;AAGzBC,IAAAA,QAAQ,EAAEpB,WAAW,CAACoB,QAHG;AAIzBC,IAAAA,eAAe,EAAErB,WAAW,CAACqB;AAJJ,GAA7B;AAMA,SAAOvB,kBAAkB,CAACwB,OAAnB,CAA2BV,YAA3B,EAAyCK,oBAAzC,EAA+D,WAA/D,CAAP;AACH;;AACD,SAASf,MAAT","sourcesContent":["import { constant } from './constant.js';\nimport { FrequencyArbitrary } from './_internals/FrequencyArbitrary.js';\nfunction extractOptionConstraints(constraints) {\n    if (typeof constraints === 'number')\n        return { freq: constraints };\n    if (!constraints)\n        return {};\n    return constraints;\n}\nfunction option(arb, rawConstraints) {\n    const constraints = extractOptionConstraints(rawConstraints);\n    const freq = constraints.freq == null ? 5 : constraints.freq;\n    const nilValue = Object.prototype.hasOwnProperty.call(constraints, 'nil') ? constraints.nil : null;\n    const nilArb = constant(nilValue);\n    const weightedArbs = [\n        { arbitrary: nilArb, weight: 1, fallbackValue: { default: nilValue } },\n        { arbitrary: arb, weight: freq },\n    ];\n    const frequencyConstraints = {\n        withCrossShrink: true,\n        depthFactor: constraints.depthFactor,\n        maxDepth: constraints.maxDepth,\n        depthIdentifier: constraints.depthIdentifier,\n    };\n    return FrequencyArbitrary.fromOld(weightedArbs, frequencyConstraints, 'fc.option');\n}\nexport { option };\n"]},"metadata":{},"sourceType":"module"}