{"ast":null,"code":"import { Shrinkable } from './Shrinkable.js';\nexport class Arbitrary {\n  filter(refinement) {\n    return new FilterArbitrary(this, refinement);\n  }\n\n  map(mapper) {\n    return new MapArbitrary(this, mapper);\n  }\n\n  chain(fmapper) {\n    return new ChainArbitrary(this, fmapper);\n  }\n\n  noShrink() {\n    return new NoShrinkArbitrary(this);\n  }\n\n  withBias(_freq) {\n    return this;\n  }\n\n  noBias() {\n    return new NoBiasArbitrary(this);\n  }\n\n}\n\nclass ChainArbitrary extends Arbitrary {\n  constructor(arb, fmapper) {\n    super();\n    this.arb = arb;\n    this.fmapper = fmapper;\n  }\n\n  generate(mrng) {\n    const clonedMrng = mrng.clone();\n    const src = this.arb.generate(mrng);\n    const dst = this.fmapper(src.value).generate(mrng);\n    return ChainArbitrary.shrinkChain(clonedMrng, src, dst, this.fmapper);\n  }\n\n  withBias(freq) {\n    return this.arb.withBias(freq).chain(t => this.fmapper(t).withBias(freq));\n  }\n\n  static shrinkChain(mrng, src, dst, fmapper) {\n    return new Shrinkable(dst.value, () => src.shrink().map(v => ChainArbitrary.shrinkChain(mrng.clone(), v, fmapper(v.value).generate(mrng.clone()), fmapper)).join(dst.shrink()));\n  }\n\n}\n\nclass MapArbitrary extends Arbitrary {\n  constructor(arb, mapper) {\n    super();\n    this.arb = arb;\n    this.mapper = mapper;\n  }\n\n  generate(mrng) {\n    return this.arb.generate(mrng).map(this.mapper);\n  }\n\n  withBias(freq) {\n    return this.arb.withBias(freq).map(this.mapper);\n  }\n\n}\n\nclass FilterArbitrary extends Arbitrary {\n  constructor(arb, refinement) {\n    super();\n    this.arb = arb;\n    this.refinement = refinement;\n  }\n\n  generate(mrng) {\n    let g = this.arb.generate(mrng);\n\n    while (!this.refinementOnShrinkable(g)) {\n      g = this.arb.generate(mrng);\n    }\n\n    return g.filter(this.refinement);\n  }\n\n  withBias(freq) {\n    return this.arb.withBias(freq).filter(this.refinement);\n  }\n\n  refinementOnShrinkable(s) {\n    return this.refinement(s.value);\n  }\n\n}\n\nclass NoShrinkArbitrary extends Arbitrary {\n  constructor(arb) {\n    super();\n    this.arb = arb;\n  }\n\n  generate(mrng) {\n    return new Shrinkable(this.arb.generate(mrng).value);\n  }\n\n  withBias(freq) {\n    return this.arb.withBias(freq).noShrink();\n  }\n\n}\n\nclass NoBiasArbitrary extends Arbitrary {\n  constructor(arb) {\n    super();\n    this.arb = arb;\n  }\n\n  generate(mrng) {\n    return this.arb.generate(mrng);\n  }\n\n}\n\nexport function assertIsArbitrary(instance) {\n  if (typeof instance !== 'object' || instance === null || !('generate' in instance)) {\n    throw new Error('Unexpected value received: not an instance of Arbitrary');\n  }\n}","map":{"version":3,"sources":["C:/Users/rodri/Solidity/solidity/faucet/node_modules/fast-check/lib/esm/check/arbitrary/definition/Arbitrary.js"],"names":["Shrinkable","Arbitrary","filter","refinement","FilterArbitrary","map","mapper","MapArbitrary","chain","fmapper","ChainArbitrary","noShrink","NoShrinkArbitrary","withBias","_freq","noBias","NoBiasArbitrary","constructor","arb","generate","mrng","clonedMrng","clone","src","dst","value","shrinkChain","freq","t","shrink","v","join","g","refinementOnShrinkable","s","assertIsArbitrary","instance","Error"],"mappings":"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","sourcesContent":["import { Shrinkable } from './Shrinkable.js';\nexport class Arbitrary {\n    filter(refinement) {\n        return new FilterArbitrary(this, refinement);\n    }\n    map(mapper) {\n        return new MapArbitrary(this, mapper);\n    }\n    chain(fmapper) {\n        return new ChainArbitrary(this, fmapper);\n    }\n    noShrink() {\n        return new NoShrinkArbitrary(this);\n    }\n    withBias(_freq) {\n        return this;\n    }\n    noBias() {\n        return new NoBiasArbitrary(this);\n    }\n}\nclass ChainArbitrary extends Arbitrary {\n    constructor(arb, fmapper) {\n        super();\n        this.arb = arb;\n        this.fmapper = fmapper;\n    }\n    generate(mrng) {\n        const clonedMrng = mrng.clone();\n        const src = this.arb.generate(mrng);\n        const dst = this.fmapper(src.value).generate(mrng);\n        return ChainArbitrary.shrinkChain(clonedMrng, src, dst, this.fmapper);\n    }\n    withBias(freq) {\n        return this.arb.withBias(freq).chain((t) => this.fmapper(t).withBias(freq));\n    }\n    static shrinkChain(mrng, src, dst, fmapper) {\n        return new Shrinkable(dst.value, () => src\n            .shrink()\n            .map((v) => ChainArbitrary.shrinkChain(mrng.clone(), v, fmapper(v.value).generate(mrng.clone()), fmapper))\n            .join(dst.shrink()));\n    }\n}\nclass MapArbitrary extends Arbitrary {\n    constructor(arb, mapper) {\n        super();\n        this.arb = arb;\n        this.mapper = mapper;\n    }\n    generate(mrng) {\n        return this.arb.generate(mrng).map(this.mapper);\n    }\n    withBias(freq) {\n        return this.arb.withBias(freq).map(this.mapper);\n    }\n}\nclass FilterArbitrary extends Arbitrary {\n    constructor(arb, refinement) {\n        super();\n        this.arb = arb;\n        this.refinement = refinement;\n    }\n    generate(mrng) {\n        let g = this.arb.generate(mrng);\n        while (!this.refinementOnShrinkable(g)) {\n            g = this.arb.generate(mrng);\n        }\n        return g.filter(this.refinement);\n    }\n    withBias(freq) {\n        return this.arb.withBias(freq).filter(this.refinement);\n    }\n    refinementOnShrinkable(s) {\n        return this.refinement(s.value);\n    }\n}\nclass NoShrinkArbitrary extends Arbitrary {\n    constructor(arb) {\n        super();\n        this.arb = arb;\n    }\n    generate(mrng) {\n        return new Shrinkable(this.arb.generate(mrng).value);\n    }\n    withBias(freq) {\n        return this.arb.withBias(freq).noShrink();\n    }\n}\nclass NoBiasArbitrary extends Arbitrary {\n    constructor(arb) {\n        super();\n        this.arb = arb;\n    }\n    generate(mrng) {\n        return this.arb.generate(mrng);\n    }\n}\nexport function assertIsArbitrary(instance) {\n    if (typeof instance !== 'object' || instance === null || !('generate' in instance)) {\n        throw new Error('Unexpected value received: not an instance of Arbitrary');\n    }\n}\n"]},"metadata":{},"sourceType":"module"}