{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decodeLabelhash = decodeLabelhash;\nexports.encodeLabelhash = encodeLabelhash;\nexports.isDecrypted = isDecrypted;\nexports.isEncodedLabelhash = isEncodedLabelhash;\nexports.labelhash = labelhash;\n\nvar _ethEnsNamehash = require(\"eth-ens-namehash\");\n\nvar sha3 = require('js-sha3').keccak_256;\n\nfunction encodeLabelhash(hash) {\n  if (!hash.startsWith('0x')) {\n    throw new Error('Expected label hash to start with 0x');\n  }\n\n  if (hash.length !== 66) {\n    throw new Error('Expected label hash to have a length of 66');\n  }\n\n  return \"[\".concat(hash.slice(2), \"]\");\n}\n\nfunction decodeLabelhash(hash) {\n  if (!(hash.startsWith('[') && hash.endsWith(']'))) {\n    throw Error('Expected encoded labelhash to start and end with square brackets');\n  }\n\n  if (hash.length !== 66) {\n    throw Error('Expected encoded labelhash to have a length of 66');\n  }\n\n  return \"\".concat(hash.slice(1, -1));\n}\n\nfunction isEncodedLabelhash(hash) {\n  return hash.startsWith('[') && hash.endsWith(']') && hash.length === 66;\n}\n\nfunction isDecrypted(name) {\n  var nameArray = name.split('.');\n  var decrypted = nameArray.reduce(function (acc, label) {\n    if (acc === false) return false;\n    return isEncodedLabelhash(label) ? false : true;\n  }, true);\n  return decrypted;\n}\n\nfunction labelhash(unnormalisedLabelOrLabelhash) {\n  return isEncodedLabelhash(unnormalisedLabelOrLabelhash) ? '0x' + decodeLabelhash(unnormalisedLabelOrLabelhash) : '0x' + sha3((0, _ethEnsNamehash.normalize)(unnormalisedLabelOrLabelhash));\n}","map":{"version":3,"sources":["C:/Users/rodri/Solidity/solidity/faucet/node_modules/@ensdomains/ensjs/dist/utils/labelhash.js"],"names":["Object","defineProperty","exports","value","decodeLabelhash","encodeLabelhash","isDecrypted","isEncodedLabelhash","labelhash","_ethEnsNamehash","require","sha3","keccak_256","hash","startsWith","Error","length","concat","slice","endsWith","name","nameArray","split","decrypted","reduce","acc","label","unnormalisedLabelOrLabelhash","normalize"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,eAAR,GAA0BA,eAA1B;AACAF,OAAO,CAACG,eAAR,GAA0BA,eAA1B;AACAH,OAAO,CAACI,WAAR,GAAsBA,WAAtB;AACAJ,OAAO,CAACK,kBAAR,GAA6BA,kBAA7B;AACAL,OAAO,CAACM,SAAR,GAAoBA,SAApB;;AAEA,IAAIC,eAAe,GAAGC,OAAO,CAAC,kBAAD,CAA7B;;AAEA,IAAIC,IAAI,GAAGD,OAAO,CAAC,SAAD,CAAP,CAAmBE,UAA9B;;AAEA,SAASP,eAAT,CAAyBQ,IAAzB,EAA+B;AAC7B,MAAI,CAACA,IAAI,CAACC,UAAL,CAAgB,IAAhB,CAAL,EAA4B;AAC1B,UAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;AACD;;AAED,MAAIF,IAAI,CAACG,MAAL,KAAgB,EAApB,EAAwB;AACtB,UAAM,IAAID,KAAJ,CAAU,4CAAV,CAAN;AACD;;AAED,SAAO,IAAIE,MAAJ,CAAWJ,IAAI,CAACK,KAAL,CAAW,CAAX,CAAX,EAA0B,GAA1B,CAAP;AACD;;AAED,SAASd,eAAT,CAAyBS,IAAzB,EAA+B;AAC7B,MAAI,EAAEA,IAAI,CAACC,UAAL,CAAgB,GAAhB,KAAwBD,IAAI,CAACM,QAAL,CAAc,GAAd,CAA1B,CAAJ,EAAmD;AACjD,UAAMJ,KAAK,CAAC,kEAAD,CAAX;AACD;;AAED,MAAIF,IAAI,CAACG,MAAL,KAAgB,EAApB,EAAwB;AACtB,UAAMD,KAAK,CAAC,mDAAD,CAAX;AACD;;AAED,SAAO,GAAGE,MAAH,CAAUJ,IAAI,CAACK,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf,CAAV,CAAP;AACD;;AAED,SAASX,kBAAT,CAA4BM,IAA5B,EAAkC;AAChC,SAAOA,IAAI,CAACC,UAAL,CAAgB,GAAhB,KAAwBD,IAAI,CAACM,QAAL,CAAc,GAAd,CAAxB,IAA8CN,IAAI,CAACG,MAAL,KAAgB,EAArE;AACD;;AAED,SAASV,WAAT,CAAqBc,IAArB,EAA2B;AACzB,MAAIC,SAAS,GAAGD,IAAI,CAACE,KAAL,CAAW,GAAX,CAAhB;AACA,MAAIC,SAAS,GAAGF,SAAS,CAACG,MAAV,CAAiB,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AACrD,QAAID,GAAG,KAAK,KAAZ,EAAmB,OAAO,KAAP;AACnB,WAAOlB,kBAAkB,CAACmB,KAAD,CAAlB,GAA4B,KAA5B,GAAoC,IAA3C;AACD,GAHe,EAGb,IAHa,CAAhB;AAIA,SAAOH,SAAP;AACD;;AAED,SAASf,SAAT,CAAmBmB,4BAAnB,EAAiD;AAC/C,SAAOpB,kBAAkB,CAACoB,4BAAD,CAAlB,GAAmD,OAAOvB,eAAe,CAACuB,4BAAD,CAAzE,GAA0G,OAAOhB,IAAI,CAAC,CAAC,GAAGF,eAAe,CAACmB,SAApB,EAA+BD,4BAA/B,CAAD,CAA5H;AACD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decodeLabelhash = decodeLabelhash;\nexports.encodeLabelhash = encodeLabelhash;\nexports.isDecrypted = isDecrypted;\nexports.isEncodedLabelhash = isEncodedLabelhash;\nexports.labelhash = labelhash;\n\nvar _ethEnsNamehash = require(\"eth-ens-namehash\");\n\nvar sha3 = require('js-sha3').keccak_256;\n\nfunction encodeLabelhash(hash) {\n  if (!hash.startsWith('0x')) {\n    throw new Error('Expected label hash to start with 0x');\n  }\n\n  if (hash.length !== 66) {\n    throw new Error('Expected label hash to have a length of 66');\n  }\n\n  return \"[\".concat(hash.slice(2), \"]\");\n}\n\nfunction decodeLabelhash(hash) {\n  if (!(hash.startsWith('[') && hash.endsWith(']'))) {\n    throw Error('Expected encoded labelhash to start and end with square brackets');\n  }\n\n  if (hash.length !== 66) {\n    throw Error('Expected encoded labelhash to have a length of 66');\n  }\n\n  return \"\".concat(hash.slice(1, -1));\n}\n\nfunction isEncodedLabelhash(hash) {\n  return hash.startsWith('[') && hash.endsWith(']') && hash.length === 66;\n}\n\nfunction isDecrypted(name) {\n  var nameArray = name.split('.');\n  var decrypted = nameArray.reduce(function (acc, label) {\n    if (acc === false) return false;\n    return isEncodedLabelhash(label) ? false : true;\n  }, true);\n  return decrypted;\n}\n\nfunction labelhash(unnormalisedLabelOrLabelhash) {\n  return isEncodedLabelhash(unnormalisedLabelOrLabelhash) ? '0x' + decodeLabelhash(unnormalisedLabelOrLabelhash) : '0x' + sha3((0, _ethEnsNamehash.normalize)(unnormalisedLabelOrLabelhash));\n}"]},"metadata":{},"sourceType":"script"}